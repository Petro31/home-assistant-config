title: Home
# Exclude entities from "Unused entities" view
resources:
  - url: /community_plugin/button-card/button-card.js?
    type: module
  - url: /community_plugin/weather-card/weather-card.js?
    type: js
  - url: /community_plugin/vertical-stack-in-card/vertical-stack-in-card.js?
    type: js
  - url: /community_plugin/lovelace-card-tools/card-tools.js?
    type: js
  - url: /community_plugin/config-template-card/config-template-card.js
    type: module
  - url: /community_plugin/lovelace-text-input-row/text-input-row.js?
    type: js
  - url: /community_plugin/mini-graph-card/mini-graph-card.js?
    type: module
  - url: /community_plugin/bar-card/bar-card.js?
    type: js
  - url: /community_plugin/lovelace-card-mod/card-mod.js?
    type: module
  - url: /community_plugin/decluttering-card/decluttering-card.js?
    type: module
  - url: /community_plugin/secondaryinfo-entity-row/secondaryinfo-entity-row.js
    type: js
  - url: /community_plugin/mini-media-player/mini-media-player-bundle.js
    type: module

# ANCHORS
    
anchors:

  # Spacer used for edges.  Needed for phone.

  cb_spacer_0px: &cb_spacer_0px
    type: custom:button-card
    color_type: blank-card
    styles:
      card:
        - width: 0px

  # Resizing Button for on / off entities.

  cb_button: &cb_button
    type: custom:button-card
    color: auto
    aspect_ratio: 1/1
    show_state: true
    show_name: true
    show_label: true
    layout: icon_label
    label: |
      [[[
        var empty = '&nbsp;';
        if (entity === undefined)
          return empty;
        var [domain, object_id] = entity.entity_id.split('.');
        if (entity.state === 'unavailable')
          return empty;
        function capitalizeFirstLetter(string) {
          return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
        }
        if (domain === 'light') {
          var bri = Math.round(entity.attributes.brightness / 2.55);
          return bri ? bri + '%' : empty;
        } else if (domain === 'fan') {
          var speed = entity.attributes.speed;
          return speed === 'off' ? empty : capitalizeFirstLetter(speed);
        } else if (domain === 'group'){
          if (entity.state === 'off')
            return empty;
          var i;
          var entities = entity.attributes.entity_id;
          var count = 0;
          for (i = 0; i < entities.length; i++)
            if (states[entities[i]].state === 'on')
              count += 1
          return count + ' of ' + entities.length;
        } else if (domain === 'switch' && ['zone_1', 'zone_2'].includes(object_id) ) {
          var mapper = { "zone_1":"volume", "zone_2":"zone_2_volume" };
          var player = object_id === 'zone_1' ? '' : "_zone_2";
          player = 'media_player.yamaha_receiver' + player;
          var entity_id = "sensor.yamaha_receiver_" + mapper[object_id];
          var level = Math.round(parseFloat(states[entity_id].state));
          if (states[player].attributes.is_volume_muted)
            return 'Muted';
          return level != -80 ? level + ' dB' : empty;
        }
        return empty;
      ]]]
    size: 75%
    tap_action:
      action: toggle
      haptic: light
    hold_action:
      action: more-info
      haptic: heavy
    styles:
      card:
      - border-radius: 15%
      - --ha-card-background: var(--primary-background-color)
      label:
      - font-size: 13px
      - font-family: Helvetica
      - font-weight: bold
      - padding: 0px 10px
      state:
      - font-size: 11px
      - font-family: Helvetica
      - padding-left: 10px
      - justify-self: start
      - text-transform: capitalize
      - font-weight: bold
      grid:
      - grid-template-rows: 1fr 1fr 0.5fr
      - grid-template-columns: 1fr 1.5fr
      img_cell:
      - align-self: start
      - text-align: start
      name:
      - justify-self: start
      - padding-left: 10px
      - font-weight: bold
      - font-family: Helvetica 
      - font-size: 13px
      lock:
      - align-items: flex-end
    state:
    - value: |
        [[[
          var domain = entity.entity_id.split('.')[0];
          if (domain === 'cover')
            return 'open';
          if (domain === 'input_select')
            return 'enabled';
          return 'on';
        ]]]
      styles:
        card:
          - opacity: 1.0
          - box-shadow: |
              [[[
                var [domain, object_id] = entity.entity_id.split('.');
                if (domain === "light")
                  return '0px 0px 10px 3px var(--button-card-light-color)';
                else if (domain === 'switch' && ['zone_1', 'zone_2', 'poweroff'].includes(object_id) )
                  return '0px 0px 10px 3px rgba(228, 94, 101)';
                return '0px 0px 10px 3px var(--accent-color)';
              ]]]
        icon:
          - color: |
              [[[
                var [domain, object_id] = entity.entity_id.split('.');
                if (domain === "light")
                  return 'var(--button-card-light-color)';
                else if (domain === 'switch' && ['zone_1', 'zone_2', 'poweroff'].includes(object_id) )
                  return 'rgba(228, 94, 101)';
                return 'var(--accent-color)';
              ]]]
        name:
          - color: white
        state:
          - color: gray
        lock:
          - color: white 
        label:
          - color: gray
    - value: |
        [[[
          var domain = entity.entity_id.split('.')[0];
          if (domain === 'cover')
            return 'closed';
          if (domain === 'input_select')
            return 'disabled';
          return 'off';
        ]]]
      styles:
        card:
          - opacity: 0.5
        icon:
          - color: var(--paper-item-icon-color)
        name:
          - color: var(--primary-text-color)
        state:
          - color: var(--primary-text-color)
        label:
          - color: var(--primary-text-color)
        lock:
          - color: var(--paper-item-icon-color)
    - value: "unavailable"
      styles:
        card:
          - opacity: 0.2
        icon:
          - color: var(--paper-item-icon-color)')
        name:
          - color: var(--primary-text-color)
        state:
          - color: hsl(0, 100%, 50%)
        label:
          - color: var(--primary-text-color)
        lock:
          - color: var(--paper-item-icon-color)

  # Remote Harmony Sensors (From Appdaemon https://github.com/Petro31/ad_harmony_activity_controls)

  cb_harmony_service_button: &cb_harmony_service_button
    type: custom:button-card
    layout: icon_state
    color: auto
    aspect_ratio: 1/1
    show_state: false
    show_label: false
    show_name: true
    size: 75%
    tap_action:
      action: call-service
      service: |
        [[[
          if (entity === undefined)
            return 'script.dummy';
          var [domain, object_id] = entity.entity_id.split('.');
          return 'script.' + object_id;
        ]]]
      haptic: light
    styles:
      grid:
      - grid-template-rows: 1fr 1fr auto
      - grid-template-columns: 1fr 1.5fr
      img_cell:
      - align-self: start
      card:
      - border-radius: 18%
      - --ha-card-background: var(--primary-background-color)
      name:
      - justify-self: start
      - align-self: end
      - padding: 10px 10px
      - font-size: 13px
      - font-family: Helvetica
      - text-transform: capitalize
    state:
    - value: 'on'
      styles:
        card:
          - opacity: 1.0
          - box-shadow: 0px 0px 10px 3px var(--button-card-light-color)
        icon:
          - color: var(--button-card-light-color)
        name:
          - color: white
    - value: 'off'
      styles:
        card:
          - opacity: 0.5
        icon:
          - color: var(--paper-item-icon-color)
        name:
          - color: var(--primary-text-color)
    - value: "unavailable"
      styles:
        card:
          - opacity: 0.2
        icon:
          - color: hsl(0, 100%, 50%)
        name:
          - color: hsl(0, 100%, 50%)

  # Remote Call Script Service (Stateless)

  cb_script: &cb_script
    type: custom:button-card
    layout: icon_state
    color: auto
    aspect_ratio: 1/1
    show_state: false
    show_label: false
    show_name: true
    size: 75%
    styles:
      grid:
      - grid-template-rows: 1fr 1fr auto
      - grid-template-columns: 1fr 1.5fr
      icon:
      - color: var(--accent-color)
      img_cell:
      - align-self: start
      card:
      - border-radius: 18%
      - --ha-card-background: var(--primary-background-color)
      - opacity: 1.0
      - box-shadow: 0px 0px 10px 3px var(--accent-color)
      name:
      - justify-self: start
      - align-self: end
      - padding: 10px 10px
      - font-size: 13px
      - font-family: Helvetica
      - text-transform: capitalize

  cb_script_service: &cb_script_service
    <<: *cb_script
    tap_action:
      action: call-service
      service: |
        [[[
          return entity.entity_id;
        ]]]
      haptic: light

  cb_script_service_repeat: &cb_script_service_repeat
    <<: *cb_script_service
    hold_action:
      action: call-service
      repeat: 250
      service: |
        [[[
          return entity.entity_id;
        ]]]
      haptic: light

  cb_color_image: &cb_color_image
    type: custom:button-card
    aspect_ratio: 1/1
    show_state: false
    show_name: false
    show_label: false
    show_icon: false
    show_entity_picture: true
    entity_picture: |
      [[[
        var [domain, object_id] = entity.entity_id.split('.');
        object_id = object_id.replace('_source','');
        return '/local/images/' + object_id + '_off.png';
      ]]]
    tap_action:
      action: toggle
      haptic: light
    styles:
      card:
      - border-radius: 18%
      - --ha-card-background: var(--primary-background-color)
      entity_picture:
        - height: 100%
        - width: 100%
    state:
    - value: 'on'
      entity_picture: |
        [[[
          var [domain, object_id] = entity.entity_id.split('.');
          object_id = object_id.replace('_source','');
          return '/local/images/' + object_id + '.png';
        ]]]
      styles:
        card:
          - opacity: 1.0
          - box-shadow: |
              [[[
                var [domain, object_id] = entity.entity_id.split('.');
                object_id = object_id.replace('_source','');
                var mapper = {
                  'netflix': 'rgba(216, 31, 38)',
                  'hbo_now': 'rgba(255, 255, 255)',
                  'hulu': 'rgba(28, 231, 131)',
                  'prime_video': 'rgba(0, 168, 225)',
                  'disney_plus': 'rgba(8, 213, 238)',
                  'plex': 'rgba(229, 160, 13)',
                  'roku': 'rgba(105, 58, 147)',
                  'switch': 'rgba(228, 0, 15)',
                  'ps4': 'rgba(102, 92, 190)',
                  'xbox_one': 'rgba(14, 122, 13)'
                  };
                if (object_id in mapper)
                  return '0px 0px 10px 3px ' + mapper[object_id];
                return '0px 0px 10px 3px var(--button-card-light-color)';
              ]]]
    - value: 'off'
      styles:
        card:
          - opacity: 0.5

  cb_color_icon: &cb_color_icon
    type: custom:button-card
    aspect_ratio: 1/1
    show_state: false
    show_name: false
    show_label: false
    show_icon: true
    tap_action:
      action: toggle
      haptic: light
    styles:
      card:
      - border-radius: 18%
      - --ha-card-background: var(--primary-background-color)
      entity_picture:
        - height: 100%
        - width: 100%
    state:
    - value: 'on'
      styles:
        card:
          - opacity: 1.0
          - box-shadow: |
              [[[
                var [domain, object_id] = entity.entity_id.split('.');
                object_id = object_id.replace('_source','');
                var mapper = {
                  'netflix': 'rgba(216, 31, 38)',
                  'hbo_now': 'rgba(255, 255, 255)',
                  'hulu': 'rgba(28, 231, 131)',
                  'prime_video': 'rgba(0, 168, 225)',
                  'disney_plus': 'rgba(8, 213, 238)',
                  'plex': 'rgba(229, 160, 13)',
                  'roku': 'rgba(105, 58, 147)',
                  'switch': 'rgba(228, 0, 15)',
                  'nintendo_switch': 'rgba(228, 0, 15)',
                  'ps4': 'rgba(102, 92, 190)',
                  'playstation': 'rgba(102, 92, 190)',
                  'xbox_one': 'rgba(14, 122, 13)',
                  'xbox': 'rgba(14, 122, 13)',
                  'alexa': 'rgba(49, 196, 243)'
                  };
                if (object_id in mapper)
                  return '0px 0px 10px 3px ' + mapper[object_id];
                return '0px 0px 10px 3px var(--button-card-light-color)';
              ]]]
        icon:
          - color: |
              [[[
                var [domain, object_id] = entity.entity_id.split('.');
                object_id = object_id.replace('_source','');
                var mapper = {
                  'netflix': 'rgba(216, 31, 38)',
                  'hbo_now': 'rgba(255, 255, 255)',
                  'hulu': 'rgba(28, 231, 131)',
                  'prime_video': 'rgba(0, 168, 225)',
                  'disney_plus': 'rgba(8, 213, 238)',
                  'plex': 'rgba(229, 160, 13)',
                  'roku': 'rgba(105, 58, 147)',
                  'switch': 'rgba(228, 0, 15)',
                  'nintendo_switch': 'rgba(228, 0, 15)',
                  'ps4': 'rgba(102, 92, 190)',
                  'playstation': 'rgba(102, 92, 190)',
                  'xbox_one': 'rgba(14, 122, 13)',
                  'xbox': 'rgba(14, 122, 13)',
                  'alexa': 'rgba(49, 196, 243)'
                  };
                if (object_id in mapper)
                  return mapper[object_id];
                return 'var(--button-card-light-color)';
              ]]]
    - value: 'off'
      styles:
        card:
          - opacity: 0.5

  cb_icon: &cb_icon
    type: custom:button-card
    show_icon: true
    show_name: false
    show_label: false
    show_state: false
    aspect_ratio: 1/1
    styles:
      card:
      - --ha-card-background: var(--primary-background-color)
      - border-radius: 15%
      - box-shadow: 0px 0px 10px 3px var(--accent-color)
      - opacity: 0.75

  cb_person_card: &cb_person_card
    type: custom:button-card
    color: auto
    layout: name_label
    show_state: true
    show_name: false
    show_entity_picture: true
    entity_picture: /local/images/petro_large.png
    tap_action:
      action: navigate
      navigation_path: /lovelace/4
    styles:
      grid:
        - grid-template-rows: auto auto auto
        - grid-template-columns: auto auto
      card:
        - background-image: |
            [[[
              var [domain, object_id] = entity.entity_id.split('.');
              return `url("/local/images/${object_id}_large.png")`;
            ]]]
        - background-repeat: no-repeat
        - background-size: 100% 100%
        - border-radius: 15px
        - padding: 0px
      entity_picture:
        - width: 100%
        - padding-bottom: 0%
        - opacity: 0.0
      state:
        - font-size: 15px
        - font-family: Helvetica
        - text-transform: capitalize
        - font-weight: bold
        - align-self: end
        - justify-self: start
        - padding: 9px 10px
        - text-shadow: 0.25px 0.25px 1px black, -0.25px -0.25px 1px black, -0.25px 0.25px 1px black, 0.25px -0.25px 1px black
    state:
      - value: 'home'
        operator: '!='
        styles:
          card:
            - background-image: |
                [[[
                  var [domain, object_id] = entity.entity_id.split('.');
                  return `url("/local/images/${object_id}_large_grayscale.png")`;
                ]]]

  #################
  # ENTITIES CARD #
  #################
  
  entities_no_header_toggle: &entities_no_header_toggle
    type: 'custom:hui-entities-card'
    show_header_toggle: off

  #############################
  # CARD MODDER REUSED STYLES #
  #############################
  
  card_mod_transparent_title: &card_mod_transparent_title
    style: |
      ha-card {
        --paper-card-background-color: 'rgba(0, 0, 0, 0.0)';
        --ha-card-box-shadow: 'none';
        padding: 0px 10px;
        height: 33px
      }

  # Main rounded border style
  card_mod_mainstyle: &card_mod_mainstyle
    style: |
      ha-card { border-radius: 20px; }
  
  # Rounded transparent style ment for vertical-stack-in-card

  card_mod_bordered_style: &card_mod_bordered_style
    style: |
      ha-card { 
        --ha-card-background: "rgba(0, 0, 0, 0.0)";
        --ha-card-box-shadow: 'none';
        border-radius: 5px;
        margin: 5px;
      }

  # Basic transparent style ment for vertical-stack-in-card

  card_mod_transparent_background: &card_mod_transparent_background
    style: |
      ha-card { 
        --paper-card-background-color: 'rgba(0, 0, 0, 0.0)';
        --ha-card-background: "rgba(0, 0, 0, 0.0)";
        --ha-card-box-shadow: 'none';
      }

  # rounded transparent style ment for vertical-stack-in-card

  card_mod_rounded_transparent: &card_mod_rounded_transparent
    style: |
      ha-card { 
        --ha-card-background: "rgba(0, 0, 0, 0.0)";
        --ha-card-box-shadow: 'none';
        border-radius: 5px;
      }

  # Makes any card's inactive colors active.

  card_mod_active_style: &card_mod_active_style
    style: |
      ha-card { 
        border-radius: 20px;
        --paper-item-icon-color: var(--paper-item-icon-active-color);
      }

  ###############################
  # CUSTOM BUTTON-CARDS BUTTONS #
  ###############################
  
  # Useful Colors
  #
  # HASS ORANGE rgb(243, 156, 18)
  # HASS RED rgba(228, 94, 101)
  # HASS BLUE 

  # ? x ? INFORMATION DISPLAY FOR UPTIME

  cb_lock: &cb_lock
    lock:
      enabled: true

  cb_uptime: &cb_uptime
    type: 'custom:button-card'
    layout: icon_name_state2nd
    show_icon: true
    show_state: true
    size: 100%
    styles:
      grid:
        - grid-template-columns: 1fr 2fr
      icon:
        - padding: 0px 20px
        - height: 30px
        - width: 30px
      card:
        - --ha-card-background: "rgba(0, 0, 0, 0.0)"
        - --ha-card-box-shadow: 'none'
      state:
        - padding: 0px 20px
        - justify-self: start
        - font-family: Roboto, sans-serif
        - font-size: 15px
      name:
        - padding: 0px 20px
        - justify-self: start
        - color: var(--secondary-text-color)

  # ?px SPACER FOR LEFT/RIGHT OF BUTTONS IN H-STACK

  cb_spacer: &cb_spacer
    type: custom:button-card
    color_type: blank-card

  # ?px SPACER FOR LEFT/RIGHT OF BUTTONS IN H-STACK

  cb_spacer_square: &cb_spacer_square
    type: custom:button-card
    color_type: blank-card
    aspect_ratio: 1/1

  # 10px SPACER FOR LEFT/RIGHT OF BUTTONS IN H-STACK

  cb_spacer_6px: &cb_spacer_6px
    type: custom:button-card
    color_type: blank-card
    styles:
      card:
        - width: 6px

  # 4 BUTTONS PER ROW - USER SET - IMAGE AND NAME
      
  cb_remote_image_name: &cb_remote_image_name
    type: "custom:button-card"
    layout: icon_label
    aspect_ratio: 1/1
    show_state: false
    show_name: true
    show_label: false
    show_icon: false
    show_entity_picture: true
    styles:
      card:
        - padding: 0px 0px
        - border-radius: 15px
        - margin: 5px 5px 0px 0px
        - --paper-card-background-color: rgba(40, 40, 40)
        - box-shadow: 0px 0px 10px 3px var(--button-card-light-color)
      grid:
        - grid-template-rows: 50px auto 0px
        - grid-template-columns: 50px auto
      entity_picture:
        - height: 100%
        - width: 100%
      name:
        - justify-self: start
        - align-self: end
        - padding: 9px 10px
        - font-size: 12px
    state:
      - value: "on"
        styles:
          card:
            - --paper-card-background-color: rgba(40, 40, 40)
            - box-shadow: >
                [[[
                  var color = entity.attributes['color'] !== undefined
                      ? entity.attributes.color
                      : 'var(--button-card-light-color)';
                  return '0px 0px 10px 3px ' + color;
                ]]]
          name:
            - color: white
          state:
            - color: white
          label:
            - color: white
      - value: "off"
        styles:
          label:
            - color: rgba(0, 0, 0, 0.0)
          card:
            - --paper-card-background-color: rgba(40, 40, 40, 0.6)


  # 40 x ? indicator - on off indicator

  cb_indicator: &cb_indicator
    type: "custom:button-card"
    layout: icon_name
    show_icon: true
    show_state: false
    show_name: true
    show_label: false
    styles:
      card:
        - height: 40px
        - padding: 0px
        - --paper-card-background-color: rgba(40, 40, 40, 0.0)
        - box-shadow: none
      icon:
        - height: 24px
        - width: 24px
        - color: white
      name:
        - justify-self: start
        - padding: 0px 10px
        - color: white
        - font-size: 14px
    state:
      - value: "on"
        icon: mdi:checkbox-marked-circle
        styles:
          icon:
            - color: var(--paper-item-icon-active-color)
          name:
            - color: var(--paper-item-icon-active-color)
        name: "Online"
      - value: "off"
        name: "Offline"
        icon: mdi:alert-circle
        styles:
          icon:
            - color: rgba(228, 94, 101)
          name: 
            - color: rgba(228, 94, 101)
      - value: "home"
        icon: mdi:checkbox-marked-circle
        styles:
          icon:
            - color: var(--paper-item-icon-active-color)
          name:
            - color: var(--paper-item-icon-active-color)
        name: "Online"
      - value: "not_home"
        name: "Offline"
        icon: mdi:alert-circle
        styles:
          icon:
            - color: rgba(228, 94, 101)
          name: 
            - color: rgba(228, 94, 101)

  # ? x ? INFORMATION DISPLAY FOR UPTIME

  cb_indicator_label: &cb_indicator_label
    type: 'custom:button-card'
    layout: icon_name
    show_icon: true
    show_state: false
    show_name: true
    show_label: false
    styles:
      grid:
        - grid-template-columns: 40px auto
      card:
        - height: 40px
        - padding: 0px
        - --ha-card-background: "rgba(0, 0, 0, 0.0)"
        - --ha-card-box-shadow: 'none'
      icon:
        - height: 24px
        - width: 24px
      name:
        - justify-self: start
        - padding: 0px 10px
        - font-size: 14px
        - color: var(--primary-text-color)
    state:
      - value: "on"
        styles:
          icon:
            - color: var(--paper-item-icon-active-color)
      - value: "off"
        styles:
          icon:
            - color: rgba(228, 94, 101)
      - value: "home"
        styles:
          icon:
            - color: var(--paper-item-icon-active-color)
      - value: "not_home"
        styles:
          icon:
            - color: rgba(228, 94, 101)

  # 4 BUTTONS PER ROW - ACTIVE - NETWORK

  cb_4x_network: &cb_4x_network
    type: custom:button-card
    layout: icon_state
    aspect_ratio: 1/1
    show_state: false
    show_name: true
    show_label: true
    styles:
      grid:
        - grid-template-rows: 42px auto auto 
        - grid-template-columns: 42px auto
      icon:
        - height: 30px
        - width: 30px
      card:
        - border-radius: 15px
        - margin: 5px 5px 0px 0px
        - padding: 0px 0px
        - box-shadow: 0px 0px 3px 1px var(--paper-item-icon-active-color)
      name:
        - justify-self: start
        - align-self: end
        - padding: 0px 0px 0px 10px
        - font-size: 12px
      label:
        - justify-self: start
        - align-self: end
        - padding: 0px 0px 9px 10px
        - font-size: 12px
    state:
      - value: "home"
        styles:
          icon:
            - color: var(--paper-item-icon-active-color)
      - value: "on"
        styles:
          icon:
            - color: var(--paper-item-icon-active-color)
      - value: "off"
        styles:
          icon:
            - color: rgba(228, 94, 101)
            - animation: blink 2s ease infinite
      - value: "not_home"
        icon: mdi:lan-disconnect
        styles:
          card:
            - box-shadow: 0px 0px 3px 1px rgba(228, 94, 101)
          icon:
            - color: rgba(228, 94, 101)
            - animation: blink 2s ease infinite
  # 40 x ? indicator - on off indicator

  cb_minutes_to_hours: &cb_minutes_to_hours
    type: "custom:button-card"
    layout: icon_label
    show_icon: true
    show_state: false
    show_name: false
    show_label: true
    label: >
      [[[
        var res = Math.floor(parseFloat(entity.state));
        var hours = Math.floor(res / 60);
        if (hours > 0) {
          var minutes = res - (hours * 60);
          return hours + 'hr ' + minutes + 'min';
        }
        return res + 'min';
      ]]]
    styles:
      card:
        - height: 40px
        - padding: 0px
        - --ha-card-background: "rgba(0, 0, 0, 0.0)"
        - --ha-card-box-shadow: 'none'
      icon:
        - height: 24px
        - width: 24px
        - color: var(--paper-item-icon-active-color)
      label:
        - justify-self: start
        - padding: 0px 10px
        - color: var(--paper-item-icon-active-color)
        - font-size: 14px

  ######################
  # CUSTOM MINI-GRAPHS #
  ######################

  mg_basic: &mg_basic
    type: custom:mini-graph-card
    hours_to_show: 24
    points_per_hour: 1
    show:
      fill: true
    
  # 168 hours, 1 point per hour.
    
  mg_168h_1pph: &mg_168h_1pph
    type: custom:mini-graph-card
    height: 20
    line_width: 2
    font_size: 70
    hours_to_show: 168
    points_per_hour: 1
    show:
      extrema: true
      fill: true

  # Humidity colors & levels

  mg_humidity: &mg_humidity
    type: custom:mini-graph-card
    hours_to_show: 24
    points_per_hour: 1
    show:
      #extrema: true
      fill: true
    color_thresholds:
      - value: 30
        color: "#3498db"
      - value: 60
        color: "#f39c12"
      - value: 80
        color: "#E45E65"

  # Temperature colors and levels.

  mg_inside_temperature: &mg_inside_temperature
    type: custom:mini-graph-card
    hours_to_show: 24
    points_per_hour: 1
    line_width: 2
    show:
      #extrema: true
      fill: true
    color_thresholds:
      - value: 65
        color: "#3498db"
      - value: 70
        color: "#f39c12"
      - value: 75
        color: "#E45E65"

  # Temperature colors and levels for overview page.

  mg_overview_temperature: &mg_overview_temperature
    type: custom:mini-graph-card
    hours_to_show: 24
    points_per_hour: 1
    line_width: 2
    show:
      extrema: true
      fill: true
  
  #############
  # BAR CARDS #
  #############

  # Bar percentage.  Currently used for ram %

  bar_percent: &bar_percent
    type: custom:bar-card
    title_position: inside
    show_icon: true
    align: split
    columns: 1
    max: 100
    unit_of_measurement: "%"
    severity:
      - value: 50
        color: "#3498db"
      - value: 75
        color: "#f39c12"
      - value: 100
        color: "#e45e65"

  # Bar percentage.  Currently used for ram %

  bar_percent_good: &bar_percent_good
    type: custom:bar-card
    title_position: inside
    show_icon: true
    align: split
    columns: 1
    max: 100
    unit_of_measurement: "%"
    severity:
      - value: 100
        color: "#3498db"
      - value: 75
        color: "#f39c12"
      - value: 50
        color: "#e45e65"

  # Bar percentage.  Currently used for ram %

  bar_voltage: &bar_voltage
    type: custom:bar-card
    title_position: inside
    show_icon: true
    align: split
    columns: 1
    max: 130
    unit_of_measurement: "V"
    severity:
      - value: 110
        color: "#e45e65"
      - value: 130
        color: "#3498db"

  ####################
  # IMAGE PROCESSING #
  ####################

decluttering_templates:
  image_processing_scans:
    card:
      type: picture-entity
      <<: *card_mod_mainstyle
      name: '[[name]]'
      entity: '[[camera]]'
      show_state: false
      hold_action:
        action: call-service
        service: image_processing.scan
        service_data:
          entity_id: '[[image_processing]]'

#########
# VIEWS #
#########
      
background: center / cover no-repeat url("/local/images/background.jpg") fixed
views:

  ##########################
  # VIEW - OVERVIEW - HOME #
  ##########################

  - id: overview
    icon: mdi:home
    title: Overview
    theme: dark-mode
    cards:

      - type: vertical-stack
        cards:

          # Presence

          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_person_card
                entity: person.petro
              - <<: *cb_person_card
                entity: person.lambo
              - <<: *cb_spacer_0px

          # Overview Lights

          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                entity: group.inside_area
              - <<: *cb_button
                entity: group.outside_area
                <<: *cb_lock
              - <<: *cb_button
                entity: group.garage_area
              - <<: *cb_spacer_0px

          # Overview Floor Lights

          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                entity: group.basement_area
              - <<: *cb_button
                entity: group.upstairs_area
              - <<: *cb_button
                entity: group.downstairs_area
              - <<: *cb_spacer_0px

          # Overview Floor Lights

          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                entity: input_select.company
                icon: mdi:account-group
                name: Company
                tap_action:
                  action: call-service
                  service: input_select.select_next
                  service_data:
                    entity_id: input_select.company
              - <<: *cb_button
                entity: input_select.house_sitting
                icon: mdi:account-clock
                name: House Sitting
                tap_action:
                  action: call-service
                  service: input_select.select_next
                  service_data:
                    entity_id: input_select.house_sitting
              - <<: *cb_button
                entity: input_select.vacation
                icon: mdi:airplane-takeoff
                name: Vacation Mode
                tap_action:
                  action: call-service
                  service: input_select.select_next
                  service_data:
                    entity_id: input_select.vacation
              - <<: *cb_spacer_0px

          # Door Statuses

          - type: horizontal-stack
            cards:
            - <<: *cb_spacer_0px
            - <<: *entities_no_header_toggle
              <<: *card_mod_mainstyle
              entities:
                - type: section
                  label: Last Opened Door
                - entity: sensor.main_entrance_last_opened
                  name: Main
                  type: custom:secondaryinfo-entity-row
                  secondary_info: '[[ {entity}.attributes.who ]]'
                - entity: sensor.garage_entrance_last_opened
                  name: Entry
                  type: custom:secondaryinfo-entity-row
                  secondary_info: '[[ {entity}.attributes.who ]]'
                - entity: sensor.patio_entrance_last_opened
                  name: Patio
                  type: custom:secondaryinfo-entity-row
                  secondary_info: '[[ {entity}.attributes.who ]]'
                - entity: sensor.garage_door_last_opened
                  name: Garage
                  type: custom:secondaryinfo-entity-row
                  secondary_info: '[[ {entity}.attributes.who ]]'
            - <<: *cb_spacer_0px

      - type: vertical-stack
        cards:

          # Alexa Say

          - type: horizontal-stack
            cards:
            - <<: *cb_spacer_0px
            - type: entities
              <<: *card_mod_mainstyle
              entities:
                - type: custom:text-input-row
                  entity: input_text.alexa_say
                - type: custom:hui-vertical-stack-card
                  cards:
                  - type: horizontal-stack
                    cards:
                      - <<: *cb_spacer
    
                      # ALL BUTTON
    
                      - <<: *cb_script
                        name: All
                        icon: mdi:amazon-alexa
                        entity: script.alexa_say_all
                        tap_action:
                          action: call-service
                          service: script.alexa_say_all
    
                      # LIVING ROOM ALEXA BUTTON
    
                      - <<: *cb_script
                        name: Kitchen
                        icon: mdi:amazon-alexa
                        entity: script.alexa_say_living_room
                        tap_action:
                          action: call-service
                          service: script.alexa_say_living_room
    
                      # MASTER ALEXA BUTTON
    
                      - <<: *cb_script
                        name: Master
                        icon: mdi:amazon-alexa
                        entity: script.alexa_say_master
                        tap_action:
                          action: call-service
                          service: script.alexa_say_master
    
                      # CLEAR TEXT ALEXA BUTTON
    
                      - <<: *cb_script
                        name: Clear
                        icon: mdi:close
                        entity: script.clear_alexa_text
                        tap_action:
                          action: call-service
                          service: script.clear_alexa_text
    
                      - <<: *cb_spacer
            - <<: *cb_spacer_0px

          # House Temp

          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *mg_overview_temperature
                <<: *card_mod_mainstyle
                entities: 
                  - entity: sensor.ms_temperature
                    name: Upstairs
                    color: var(--paper-item-icon-active-color)
                  - entity: sensor.dining_room_temperature
                    name: Patio Door
                    color: '#f39c12'
                name: House Temperature
                graph: line
              - <<: *cb_spacer_0px

          # Outside Temp

          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - type: custom:weather-card
                <<: *card_mod_mainstyle
                entity: weather.dark_sky
                icons: "/local/icons/weather_icons/animated/"
              - <<: *cb_spacer_0px
        
  ########################################
  # VIEW - ENTERTAINMENT SYSTEM CONTROLS #
  ########################################
            
  - id: entertainment
    icon: mdi:television
    title: Entertainment
    cards:
    
        - type: vertical-stack
          cards:

          #########################
          # POWER ON OFF CONTROLS #
          #########################

          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px

              # Harmony Power On Off

              - <<: *cb_button
                entity: switch.poweroff
                name: Harmony

              # Zone 1 Power On Off

              - <<: *cb_button
                entity: switch.zone_1
                name: Zone 1

              # Zone 2 Power On Off

              - <<: *cb_button
                entity: switch.zone_2
                name: Zone 2

              - <<: *cb_spacer_0px

          ####################################
          # HARMONY ACTIVITY ON OFF CONTROLS #
          ####################################

          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px

              # Xbox Activity On Off

              - <<: *cb_color_icon
                entity: switch.xbox_one

              # Playstation Activity On Off

              - <<: *cb_color_icon
                entity: switch.ps4

              # Roku Activity On Off

              - <<: *cb_color_image
                entity: switch.roku

              # Nintendo Switch Activity On Off

              - <<: *cb_color_icon
                entity: switch.switch

              # TV Activity On Off

              - <<: *cb_color_icon
                entity: switch.tv

              - <<: *cb_spacer_0px

          ########################
          # ROKU SOURCE CONTROLS #
          ########################
          
          - type: conditional
            conditions:
              - entity: switch.roku
                state: 'on'
            card:
              type: vertical-stack
              cards:
                - type: horizontal-stack
                  cards:
                    - <<: *cb_spacer_0px
                    
                    # Netflix
                      
                    - <<: *cb_color_image
                      entity: switch.netflix
                        
                    # HBO Now
                      
                    - <<: *cb_color_image
                      entity: switch.hbo_now
                        
                    # Hulu
                      
                    - <<: *cb_color_image
                      entity: switch.hulu

                    # Prime Video

                    - <<: *cb_color_image
                      entity: switch.prime_video

                    # Disney Plus

                    - <<: *cb_color_image
                      entity: switch.disney_plus
                    - <<: *cb_spacer_0px

          ###########################
          # CONTEXT VOLUME CONTROLS #
          ###########################
          
          - type: conditional
            conditions:
              - entity: binary_sensor.yamaha_receiver
                state: 'on'
            card:
              type: vertical-stack
              cards:
                - type: horizontal-stack
                  cards:
                    - <<: *cb_spacer_0px
                    
                    # Zone control changer
                      
                    - <<: *cb_script
                      icon: mdi:volume-high
                      entity: sensor.active_media_player
                      tap_action:
                        action: call-service
                        service: script.multizone_cycle_zone
                        haptic: light
                      name: >
                        [[[ 
                            var sentence = entity.state.split(" ");
                            for(var i = 0; i< sentence.length; i++){
                                sentence[i] = sentence[i][0].toUpperCase() + sentence[i].slice(1);
                            }
                            return sentence.join(" ");
                        ]]]
                    # Volume Up
                      
                    - <<: *cb_script_service_repeat
                      icon: mdi:volume-plus
                      name: Up
                      entity: script.multizone_volume_up
                        
                    # Volume Down
                      
                    - <<: *cb_script_service_repeat
                      icon: mdi:volume-minus
                      name: Down
                      entity: script.multizone_volume_down
                        
                    # Volume Mute
                      
                    - <<: *cb_script_service
                      icon: mdi:volume-mute
                      name: Mute
                      entity: script.multizone_volume_mute

                    - <<: *cb_spacer_0px
          
          ############################
          # HARMONY CONTEXT CONTROLS #
          ############################
          
          - type: conditional
            conditions:
              - entity: switch.alexa_source
                state_not: 'on'
              - entity: switch.phone_source
                state_not: 'on'
            card:
              type: vertical-stack
              cards:
                - type: conditional
                  conditions:
                    - entity: binary_sensor.remote_living_room_control
                      state: 'on'
                  card:
                    type: vertical-stack
                    cards:

                      # ROW 1 REWIND, PLAY, PAUSE, FASFORWARD

                      - type: horizontal-stack
                        cards:
                          - <<: *cb_spacer_0px

                          # REWIND BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_rewind

                          # PLAY BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_play

                          # PAUSE BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_pause

                          # FASFORWARD BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_fastforward

                          - <<: *cb_spacer_0px

                      # ROW 2 Home, Up, MENU

                      - type: horizontal-stack
                        cards:
                          - <<: *cb_spacer_0px
                          - <<: *cb_spacer_square

                          # HOME BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_homebutton

                          # UP BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_directionup

                          # MENU BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_menubutton

                          - <<: *cb_spacer_0px

                      # ROKU ROW 3 Left, Ok, Right

                      - type: horizontal-stack
                        cards:
                          - <<: *cb_spacer_0px
                          - <<: *cb_spacer_square

                          # LEFT BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_directionleft

                          # OK BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_ok

                          # RIGHT BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_directionright

                          - <<: *cb_spacer_0px

                      # ROKU ROW 4 LowerLeft, Down, LowerRight

                      - type: horizontal-stack
                        cards:
                          - <<: *cb_spacer_0px
                          - <<: *cb_spacer_square

                          # INFO BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_lowerleft

                          # DOWN BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_directiondown

                          # SHARE BUTTON

                          - <<: *cb_harmony_service_button
                            entity: binary_sensor.remote_living_room_lowerright

                          - <<: *cb_spacer_0px

                - type: conditional
                  conditions:
                    - entity: sensor.harmony_activity
                      state_not: 'PowerOff'
                    - entity: sensor.harmony_activity
                      state_not: 'Switch'
                    - entity: sensor.harmony_activity
                      state_not: 'TV'
                    - entity: sensor.harmony_activity
                      state_not: 'Roku'
                  card:
                    type: horizontal-stack
                    cards:
                      - <<: *cb_spacer_0px

                        # BOTTOM CONTROLLER BUTTON

                      - <<: *cb_remote_image_name
                        entity: binary_sensor.remote_living_room_bottombutton
                        tap_action:
                          action: call-service
                          service: script.remote_living_room_bottombutton
                          haptic: light

                        # RIGHT CONTROLLER BUTTON

                      - <<: *cb_remote_image_name
                        entity: binary_sensor.remote_living_room_rightbutton
                        tap_action:
                          action: call-service
                          service: script.remote_living_room_rightbutton
                          haptic: light

                        # TOP CONTROLLER BUTTON

                      - <<: *cb_remote_image_name
                        entity: binary_sensor.remote_living_room_topbutton
                        tap_action:
                          action: call-service
                          service: script.remote_living_room_topbutton
                          haptic: light

                        # TOP CONTROLLER BUTTON

                      - <<: *cb_remote_image_name
                        entity: binary_sensor.remote_living_room_leftbutton
                        tap_action:
                          action: call-service
                          service: script.remote_living_room_leftbutton
                          haptic: light

                      - <<: *cb_spacer_0px
 
          ##########################
          # ALEXA CONTEXT CONTROLS #
          ##########################
          
          - type: conditional
            conditions:
              - entity: switch.alexa_source
                state: 'on'
              - entity: media_player.living_room_dot
                state_not: 'off'
            card:
              type: vertical-stack
              cards:
                - type: horizontal-stack
                  cards:
                    - <<: *cb_spacer_0px
                    - <<: *entities_no_header_toggle
                      style: |
                        ha-card {
                          border-radius: 20px;
                          box-shadow: 0px 0px 10px 3px var(--accent-color);
                          background-repeat: no-repeat;
                          background-size: 100%;
                          background-position: center;
                          background-image: url("{{ state_attr('media_player.living_room_dot','entity_picture') }}");
                        }
                      entities:
                      - type: custom:button-card
                        name: |
                          [[[
                            var artist = states['media_player.living_room_dot'].attributes.media_artist;
                            var title = states['media_player.living_room_dot'].attributes.media_title;
                            return title + ' - ' + artist;
                          ]]]
                        show_entity_picture: true
                        entity_picture:
                        styles:
                          card:
                          - --ha-card-background: rgba(0, 0, 0, 0.0)
                          - box-shadow: none
                          name:
                          - font-family: Helvetica
                          - padding: 10px
                          - text-shadow: 1px 1px 2px black, -1px -1px 2px black, -1px 1px 2px black, 1px -1px 2px black
                      - type: custom:hui-horizontal-stack-card
                        cards:
                        - <<: *cb_icon
                          icon: mdi:speaker-bluetooth
                          entity: switch.floating_outlet_switch
                        - <<: *cb_spacer_square
                        - <<: *cb_icon
                          icon: mdi:skip-previous
                          entity: media_player.living_room_dot
                          tap_action:
                            haptic: light
                            action: call-service
                            service: media_player.media_previous_track
                            service_data:
                              entity_id: media_player.living_room_dot
                        - <<: *cb_icon
                          entity: media_player.living_room_dot
                          icon: |
                            [[[
                              return (states['media_player.living_room_dot'].state === 'paused')
                                ? 'mdi:play'
                                : 'mdi:pause';
                            ]]]
                          tap_action:
                            haptic: light
                            action: call-service
                            service: |
                              [[[
                                return (states['media_player.living_room_dot'].state != 'playing')
                                  ? 'media_player.media_play'
                                  : 'media_player.media_pause';
                              ]]]
                            service_data:
                              entity_id: media_player.living_room_dot
                        - <<: *cb_icon
                          entity: media_player.living_room_dot
                          icon: mdi:skip-next
                          tap_action:
                            haptic: light
                            action: call-service
                            service: media_player.media_next_track
                            service_data:
                              entity_id: media_player.living_room_dot

                    - <<: *cb_spacer_0px
                            
          ##########################
          # YAMAHA SOURCE CONTROLS #
          ##########################
          
          - type: conditional
            conditions:
              - entity: binary_sensor.yamaha_receiver
                state: 'on'
            card:
              type: vertical-stack
              cards:
                - type: markdown
                  content: "#### Reciever Source"
                  <<: *card_mod_transparent_title
                - type: horizontal-stack
                  cards:
                    - <<: *cb_spacer_0px
                    - <<: *cb_color_icon
                      entity: switch.xbox_source
                    - <<: *cb_color_icon
                      entity: switch.playstation_source
                    - <<: *cb_color_image
                      entity: switch.roku_source
                    - <<: *cb_color_icon
                      entity: switch.nintendo_switch_source
                    - <<: *cb_color_icon
                      entity: switch.alexa_source
                    - <<: *cb_spacer_0px

                      
  #################
  # VIEW - LIGHTS #
  #################
  
  - id: lights
    icon: mdi:lightbulb-on
    title: House Lights
    cards:
      
      ###################
      # BASEMENT LIGHTS #
      ###################
       
      - id: basement_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Basement"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.basement_area
              - <<: *cb_button
                entity: switch.basement_cans
              - <<: *cb_button
                entity: switch.basement_stairs
              - <<: *cb_spacer_0px
                
      #################
      # GARAGE LIGHTS #
      #################
      
      - id: garage_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Garage"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.garage_area
              - <<: *cb_button
                entity: switch.garage_cans
              - <<: *cb_button
                entity: cover.garage_door
                icon: >
                  [[[ return (entity.state === 'open') ? 'mdi:garage-open' : 'mdi:garage'; ]]]
              - <<: *cb_spacer_0px
                
      #####################
      # DININGROOM LIGHTS #
      #####################
                
      - id: dining_room_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Dining Room"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.dining_room_area
              - <<: *cb_button
                entity: light.dining_room_chandelier
              - <<: *cb_button
                entity: switch.dining_room_hutch
              - <<: *cb_spacer_0px
                
      #####################
      # LIVINGROOM LIGHTS #
      #####################
                
      - id: living_room_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Living Room"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.living_room_area
              - <<: *cb_button
                entity: light.living_room
              - <<: *cb_button
                entity: switch.living_room_window
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                lock:
                  enabled: >
                    [[[ return entity.state === 'off'; ]]]
                icon: mdi:amazon-alexa
                name: Echo
                entity: switch.floating_outlet_switch
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px
                
      ####################
      # GAME ROOM LIGHTS #
      ####################
       
      - id: basement_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Game Room"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.game_room_area
              - <<: *cb_button
                entity: switch.office_switch
              - <<: *cb_button
                entity: switch.office_outlet
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                entity: switch.office_window
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

      #################
      # OFFICE LIGHTS #
      #################
                
      - id: office_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Office"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.office_area
              - <<: *cb_button
                entity: light.inovelli_lzw42_multi_color_bulb_level
              - <<: *cb_button
                entity: light.inovelli_lzw42_multi_color_bulb_level_2
              - <<: *cb_spacer_0px
                
      ##################
      # KITCHEN LIGHTS #
      ##################
                
      - id: kitchen_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Kitchen"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.kitchen_area
              - <<: *cb_button
                entity: light.kitchen_island
              - <<: *cb_button
                entity: light.kitchen_cans
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                entity: switch.kitchen_pantry
              - <<: *cb_button
                entity: switch.kitchen_cabinet
              - <<: *cb_button
                entity: switch.kitchen_outlet_above_fridge
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                entity: switch.kitchen_outlet_above_microwave
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px
                
      #########
      # FOYER #
      #########
                
      - id: foyer_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Foyer"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.foyer_area
              - <<: *cb_button
                entity: switch.foyer
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

      ###################
      # GARAGE ENTRANCE #
      ###################
                
      - id: garage_entrance_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Garage Entrance"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.garage_entrance_area
              - <<: *cb_button
                entity: switch.garage_entry
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

      ###########
      # LAUNDRY #
      ###########

      - id: laundry_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Laundry"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.laundry_area
              - <<: *cb_button
                entity: switch.laundry
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

      ###########
      # HALLWAY #
      ###########
                
      - id: hallway_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Hallway"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.hall_area
              - <<: *cb_button
                entity: light.hallway
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

      #####################
      # BONUS ROOM LIGHTS #
      #####################
       
      - id: basement_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Bonus Room"
            <<: *card_mod_transparent_title

      #########################
      # MASTER BEDROOM LIGHTS #
      #########################
                
      - id: master_bedroom_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Master Bedroom"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.master_bedroom_area
              - <<: *cb_button
                name: Light
                entity: light.master_fixture
              - <<: *cb_button
                name: Fan
                entity: fan.master_fixture
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Mike
                entity: switch.master_nightstand_left
              - <<: *cb_button
                name: Lindsay
                entity: switch.master_nightstand_right
              - <<: *cb_button
                name: Closet
                entity: light.master_closet
              - <<: *cb_spacer_0px
                
      ##########################
      # MASTER BATHROOM LIGHTS #
      ##########################
                
      - id: master_bathroom_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Master Bathroom"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.master_bathroom_area
              - <<: *cb_button
                name: Light
                entity: light.master_bathroom_sink
              - <<: *cb_button
                name: Shower
                entity: light.master_bathroom_cans
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Fan
                entity: switch.master_bathroom_fan
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px
                
      ##################
      # OUTDOOR LIGHTS #
      ##################
                
      - id: outdoors_card
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Outdoors"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Lights
                entity: group.outside_area
                <<: *cb_lock
              - <<: *cb_button
                name: Garage
                entity: switch.sconces_garage
                <<: *cb_lock
              - <<: *cb_button
                name: Main
                entity: switch.sconces_main_entrance
                <<: *cb_lock
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_button
                name: Passenger
                entity: switch.passenger_sconce
                <<: *cb_lock
              - <<: *cb_button
                name: Outlet
                entity: switch.outside_porch
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

  #############################
  # VIEW - DEVICE INFORMATION #
  #############################
      
  - id: settings 
    icon: mdi:settings
    title: System
    cards:

      #######################
      # INTERNET CONNECTION #
      #######################

      - id: internet_connection
        <<: *entities_no_header_toggle
        <<: *card_mod_mainstyle
        entities:
          - type: section
            label: Speed Test
          - type: custom:hui-vertical-stack-card
            cards:
            - type: horizontal-stack
              cards:
                - <<: *mg_168h_1pph
                  <<: *card_mod_bordered_style
                  entities: 
                    - sensor.speedtest_download
                  color_thresholds:
                    - value: 99.9
                      color: "#3498db"
                    - value: 0
                      color: "#E45E65"
                - <<: *mg_168h_1pph
                  <<: *card_mod_bordered_style
                  entities: 
                    - sensor.speedtest_upload
                  color_thresholds:
                    - value: 9.9
                      color: "#3498db"
                    - value: 0
                      color: "#E45E65"
            - <<: *mg_168h_1pph
              <<: *card_mod_bordered_style
              entities: 
                - sensor.speedtest_ping
              color_thresholds:
                - value: 80
                  color: "#E45E65"
                - value: 0
                  color: "#3498db"

      ##################################
      # HOME ASSISTANT HARDWARE STATUS #
      ##################################

      - id: hassio_status
        type: custom:config-template-card
        variables:
          - states['sensor.current_version'].state
          - states['sensor.disk_use_total'].state
          - states['sensor.disk_use_home'].state
        entities:
          - sensor.current_version
          - sensor.disk_free_home
          - sensor.disk_use_home
        card:
          <<: *entities_no_header_toggle
          <<: *card_mod_mainstyle
          entities:
            - type: section
              label: "${ 'NUC i5 --- Ubuntu 18.04.1 LTS --- HA ' + vars[0] }"
            - type: custom:hui-vertical-stack-card
              cards:
                - type: horizontal-stack
                  cards:
                    - type: picture
                      <<: *card_mod_transparent_background
                      image: /local/images/devices/nuc_5.png
                    - <<: *cb_uptime
                      entity: sensor.nuc_uptime
                      name: Uptime
                      icon: mdi:clock-outline
                - <<: *bar_percent
                  <<: *card_mod_transparent_background
                  entity: sensor.disk_use_percent_home
                  title: "${ 'Disk (' + vars[2] + 'Gb/' + vars[1] + 'Gb)' }"
                - type: horizontal-stack
                  cards:
                    - <<: *bar_percent
                      <<: *card_mod_transparent_background
                      entity: sensor.memory_use_percent
                      title: RAM
                    - <<: *bar_percent
                      <<: *card_mod_transparent_background
                      entity: sensor.processor_use
                      title: CPU
                - <<: *mg_168h_1pph
                  <<: *card_mod_rounded_transparent
                  entities: 
                    - sensor.cpu_temperature
                  name: Temperature
                  color_thresholds:
                    - value: 90
                      color: "#3498db"
                    - value: 120
                      color: "#f39c12"
                    - value: 150
                      color: "#E45E65"

      ######################
      # UPS - APC BR1500MS #
      ######################

      - id: br1500ms
        type: 'custom:config-template-card'
        variables:
          - states['sensor.ups_model'].state
        entities:
          - sensor.sensor.ups_model
        card:
          <<: *entities_no_header_toggle
          <<: *card_mod_mainstyle
          entities:
            - type: section
              label: "${ vars[0] }"
            - type: custom:hui-vertical-stack-card
              cards:
                - type: horizontal-stack
                  cards:
                    - type: picture
                      <<: *card_mod_transparent_background
                      image: /local/images/devices/BR1500G.png
                    - <<: *cb_uptime
                      entity: sensor.ups_uptime
                      name: Uptime
                      icon: mdi:clock-outline
                - type: horizontal-stack
                  cards:
                    - <<: *cb_spacer_6px
                    - <<: *cb_indicator
                      entity: binary_sensor.ups_online_status
                    - <<: *cb_minutes_to_hours
                      entity: sensor.ups_time_left
                    - <<: *cb_spacer_6px
                - <<: *bar_voltage
                  <<: *card_mod_transparent_background
                  entity: sensor.ups_input_voltage
                  title: Input
                - type: horizontal-stack
                  cards:
                    - <<: *bar_percent
                      <<: *card_mod_transparent_background
                      entity: sensor.ups_load
                      title: Load
                    - <<: *bar_percent_good
                      <<: *card_mod_transparent_background
                      entity: sensor.ups_battery
                      title: Battery

      ####################################
      # UNIFI SWITCH 16 PORT POE (150 W) #
      ####################################

      - id: bonus_room_switch_status
        <<: *entities_no_header_toggle
        <<: *card_mod_mainstyle
        entities:
          - type: section
            label: Bonus Room 16 Port POE Switch
          - type: custom:hui-vertical-stack-card
            cards:
              - type: horizontal-stack
                cards:
                  - type: picture
                    <<: *card_mod_transparent_background
                    image: /local/images/devices/unifi_16port_switch_2.png
                  - <<: *cb_uptime
                    entity: sensor.bonus_room_switch_uptime
                    name: Uptime
                    icon: mdi:clock-outline
              - <<: *mg_168h_1pph
                <<: *card_mod_rounded_transparent
                entities: 
                  - sensor.bonus_room_switch_temperature
                name: Temperature
                color_thresholds:
                  - value: 90
                    color: "#3498db"
                  - value: 120
                    color: "#f39c12"
                  - value: 150
                    color: "#E45E65"

      ####################################
      # UNIFI SWITCH 16 PORT POE (150 W) #
      ####################################

      - id: bonus_room_switch_status
        <<: *entities_no_header_toggle
        <<: *card_mod_mainstyle
        entities:
          - type: section
            label: Server Room 16 Port POE Switch
          - type: custom:hui-vertical-stack-card
            cards:
              - type: horizontal-stack
                cards:
                  - type: picture
                    <<: *card_mod_transparent_background
                    image: /local/images/devices/unifi_16port_switch_2.png
                  - <<: *cb_uptime
                    entity: sensor.server_room_switch_uptime
                    name: Uptime
                    icon: mdi:clock-outline
              - <<: *mg_168h_1pph
                <<: *card_mod_rounded_transparent
                entities: 
                  - sensor.server_room_switch_temperature
                name: Temperature
                color_thresholds:
                  - value: 90
                    color: "#3498db"
                  - value: 120
                    color: "#f39c12"
                  - value: 150
                    color: "#E45E65"

      ###############################
      # SYNOLOGY DISKSTATION DS216J #
      ###############################

      - id: synology_ds216j
        <<: *entities_no_header_toggle
        <<: *card_mod_mainstyle
        entities:
          - type: section
            label: Synology DS216J
          - type: custom:hui-vertical-stack-card
            cards:
              - type: horizontal-stack
                cards:
                  - type: picture
                    <<: *card_mod_transparent_background
                    image: /local/images/devices/synology_ds216j_2.png
                  - <<: *cb_uptime
                    entity: sensor.synology_uptime
                    name: Uptime
                    icon: mdi:clock-outline
                      
              - type: custom:config-template-card
                variables:
                  - states['sensor.synology_dsm_total_size_volume_1'].state
                  - states['sensor.synology_dsm_used_space_volume_1'].state
                entities:
                  - sensor.synology_dsm_total_size_volume_1
                  - sensor.synology_dsm_used_space_volume_1
                card:
                  <<: *bar_percent
                  <<: *card_mod_transparent_background
                  entity: sensor.synology_dsm_volume_used_volume_1
                  title: "${ 'Disk (' + vars[1] + '/' + vars[0] + ')' }"
              - type: horizontal-stack
                cards:
                  - <<: *bar_percent
                    <<: *card_mod_transparent_background
                    entity: sensor.synology_dsm_memory_usage_real
                    title: RAM
                  - <<: *bar_percent
                    <<: *card_mod_transparent_background
                    entity: sensor.synology_dsm_cpu_load_total
                    title: CPU
              - <<: *mg_168h_1pph
                <<: *card_mod_rounded_transparent
                entities: 
                  - sensor.synology_dsm_temperature_sda
                  - sensor.synology_dsm_temperature_sdb
                name: Temperature
                color_thresholds:
                  - value: 90
                    color: "#3498db"
                  - value: 95
                    color: "#f39c12"
                  - value: 100
                    color: "#E45E65"

      ########################
      # AEOTEC MULTISENSOR 1 #
      ########################

      - id: multisensor_1
        <<: *entities_no_header_toggle
        <<: *card_mod_mainstyle
        entities:
          - type: section
            label: Master Bathroom Aeotec Multisensor 6
          - type: custom:hui-vertical-stack-card
            cards:
              - type: horizontal-stack
                cards:
                  - type: picture
                    <<: *card_mod_transparent_background
                    image: /local/images/devices/aeotec_multisensor6_2.png
                  - <<: *mg_inside_temperature
                    <<: *card_mod_bordered_style
                    entities: 
                      - sensor.ms_temperature
                    name: Temperature
              - type: horizontal-stack
                cards:
                  - <<: *mg_humidity
                    <<: *card_mod_bordered_style
                    entities: 
                      - sensor.ms_humidity
                    name: Humidity
                  - <<: *mg_basic
                    <<: *card_mod_bordered_style
                    entities: 
                      - sensor.ms_luminance
                    name: Luminance

  ##############
  # VIEW - MAP #
  ##############
              
  - id: map
    icon: mdi:map
    title: Map
    panel: true
    cards:
      - id: local_map
        style: |
          ha-card { --primary-text-color: var(--paper-item-icon-active-color); }
        type: map
        entities:
          - entity: zone.home
          - entity: zone.pharos
          - entity: zone.qvi
          - entity: zone.ruckhouse
          - entity: zone.tops
          - entity: zone.wegmans
          - entity: zone.cobbs_hill
          - entity: zone.flower_city_crossfit
          - entity: zone.rit_gym
          - entity: device_tracker.petro
          - entity: device_tracker.lambo

  ###########################
  # VIEW - NETWORK PRESENCE #
  ###########################

  - id: network_presence  
    icon: mdi:wan
    title: Network Devices
    cards:

      ####################
      # WIRELESS DEVICES #
      ####################

      - id: wireless_devices
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Wireless Devices"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.echo_living_room
                name: Living Room
                label: Echo
              - <<: *cb_4x_network
                entity: device_tracker.echo_master_bedroom
                name: Master
                label: Echo
              - <<: *cb_4x_network
                entity: device_tracker.harmony_hub
                label: Harmony
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.hp6796cc
                label: HP6796CC
                name: " "
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.nintendo_wii_u
                label: Wii U
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.common_room_camera
                label: Camera
                name: Downstairs
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

      #################
      # WIRED DEVICES #
      #################

      - id: wireless_devices
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Wired Devices"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.intel_nuc
                label: NUC
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.yamaha_rx_v677
                name: Yamaha
                label: RX-V677
              - <<: *cb_4x_network
                entity: device_tracker.unifi_cloudkey
                label: CloudKey
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.xbox_one
                name: " "
                label: Xbox One
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.synology_ds216j
                label: DS216J
                name: Synology
              - <<: *cb_4x_network
                entity: device_tracker.playstation_4
                label: PlayStation
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.garage_camera
                label: Camera
                name: Garage
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

      #################
      # MIKES DEVICES #
      #################

      - id: wireless_devices
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Mike's Devices"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.mikes_ipad
                label: iPad
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.mikes_iphone
                label: iPhone
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.mikes_laptop
                label: Laptop
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.mike_s_computer
                label: Computer
                name: " "
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.forerunner_935
                label: Watch
                name: " "
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

      ####################
      # LINDSAYS DEVICES #
      ####################

      - id: wireless_devices
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Lindsays's Devices"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.lindsays_ipad
                label: iPad
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.lindsays_iphone5s
                label: iPhone 5
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.lindsays_imac
                label: iMac
                name: " "
              - <<: *cb_4x_network
                entity: device_tracker.lindsays_work_pc
                label: Work PC
                name: " "
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.lindsays_iphone8
                label: iPhone 8
                name: " "
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px

      ##################
      # FAMILY DEVICES #
      ##################

      - id: wireless_devices
        type: vertical-stack
        cards:
          - type: markdown
            content: "#### Family Devices"
            <<: *card_mod_transparent_title
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.james_air
                name: James's
                label: Laptop
              - <<: *cb_4x_network
                entity: device_tracker.james_iphone
                name: James's
                label: iPhone 8
              - <<: *cb_4x_network
                entity: device_tracker.james_iphone_10
                name: James's
                label: iPhone 10
              - <<: *cb_4x_network
                entity: device_tracker.james_ipad
                name: James's
                label: iPad
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.owens_iphone
                name: Owen's
                label: iPhone
              - <<: *cb_4x_network
                entity: device_tracker.andreas_pc
                name: Andreas's
                label: Laptop
              - <<: *cb_4x_network
                entity: device_tracker.hannas_iphone
                name: Hanna's
                label: iPhone
              - <<: *cb_4x_network
                entity: device_tracker.katies_iphone
                name: Katie's
                label: iPhone
              - <<: *cb_spacer_0px
          - type: horizontal-stack
            cards:
              - <<: *cb_spacer_0px
              - <<: *cb_4x_network
                entity: device_tracker.alexs_nintendo_switch
                name: Alex's
                label: Switch
              - <<: *cb_4x_network
                entity: device_tracker.alexs_phone
                name: Alex's
                label: Phone
              - <<: *cb_spacer_square
              - <<: *cb_spacer_square
              - <<: *cb_spacer_0px
  
  ##################################
  # EXPERIMENTAL BEYOND THIS POINT #
  ##################################
                
  ##################
  # VIEW - CAMERAS #
  ##################
                
  - id: cameras
    icon: mdi:cctv
    title: Surveillance
    cards:
      - type: picture-entity
        <<: *card_mod_mainstyle
        entity: camera.garage
        show_state: false
      - type: picture-entity
        <<: *card_mod_mainstyle
        entity: camera.kitchen
        show_state: false
      - type: picture-entity
        <<: *card_mod_mainstyle
        entity: camera.floating
        show_state: false
      - type: picture-entity
        <<: *card_mod_mainstyle
        entity: camera.foyer
        show_state: false
      - type: picture-entity
        <<: *card_mod_mainstyle
        entity: camera.backyard
        show_state: false
      - type: picture-entity
        <<: *card_mod_mainstyle
        entity: camera.driveway
        show_state: false


  ###########################
  # VIEW - IMAGE PROCESSING #
  ###########################

  - id: image_processing
    icon: mdi:image-search
    title: Image Processing
    cards:
      - type: custom:decluttering-card
        template: image_processing_scans
        variables:
        - name: Garage
        - camera: camera.garage_post_process
        - image_processing: image_processing.tensorflow_garage
      - type: custom:decluttering-card
        template: image_processing_scans
        variables:
        - name: Kitchen
        - camera: camera.kitchen_post_process
        - image_processing: image_processing.tensorflow_kitchen
      - type: custom:decluttering-card
        template: image_processing_scans
        variables:
        - name: Floating
        - camera: camera.floating_post_process
        - image_processing: image_processing.tensorflow_floating
      - type: custom:decluttering-card
        template: image_processing_scans
        variables:
        - name: Foyer
        - camera: camera.foyer_post_process
        - image_processing: image_processing.tensorflow_foyer
      - type: custom:decluttering-card
        template: image_processing_scans
        variables:
        - name: Backyard
        - camera: camera.backyard_post_process
        - image_processing: image_processing.tensorflow_backyard
      - type: custom:decluttering-card
        template: image_processing_scans
        variables:
        - name: Driveway
        - camera: camera.driveway_post_process
        - image_processing: image_processing.tensorflow_driveway

  ###########
  # TESTING #
  ###########

  - id: testing
    icon: mdi:test-tube
    title: Testing
    cards:
      - type: entities
        state_color: true
        entities: 
          - media_player.living_room_dot
          - switch.test_1
          - switch.test_2
          - light.test
          - light.test_1
          - light.test_2
      - type: vertical-stack
        cards:
        - type: horizontal-stack
          cards:
          - <<: *cb_spacer_0px
          - <<: *cb_button
            entity: light.test
          - <<: *cb_button
            entity: switch.test_1
          - <<: *cb_button
            entity: light.test_2
          - <<: *cb_button
            entity: binary_sensor.remote_ui
          - <<: *cb_spacer_0px
        - type: horizontal-stack
          cards:
          - <<: *cb_spacer_0px
          - <<: *cb_button
            entity: light.test
          - <<: *cb_button
            entity: switch.test_1
          - <<: *cb_button
            entity: binary_sensor.remote_ui
          - <<: *cb_spacer_0px
        - type: horizontal-stack
          cards:
          - <<: *cb_spacer_0px
          - <<: *cb_button
            entity: light.master_closet
          - <<: *cb_button
            entity: fan.master_fixture
          - <<: *cb_button
            entity: cover.garage_door
          - <<: *cb_spacer_0px
