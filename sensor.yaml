  # SYSTREM MONITOR
    
  - platform: systemmonitor
    resources:
      - type: disk_use_percent
        arg: /home
      - type: disk_use
        arg: /home
      - type: disk_free
        arg: /home
      - type: memory_use
      - type: memory_free
      - type: memory_use_percent
      - type: processor_use
      - type: last_boot
      
  # Time and Date / Unused
      
  - platform: time_date
    display_options:
      - time
      - date_time
      - date
      
  - platform: version

  # CLI
  
  - platform: command_line
    name: CPU Temperature
    command: "cat /sys/class/thermal/thermal_zone3/temp"
    unit_of_measurement: "°C"
    value_template: '{{ value | multiply(0.001) | round(1) }}'
  
  # SNMP
  
  - platform: snmp
    host: !secret unifi_bonus_switch
    name: Bonus Room Switch Temperature
    unit_of_measurement: "°C"
    baseoid: 1.3.6.1.4.1.4413.1.1.43.1.8.1.5.1.0

  - platform: snmp
    host: !secret unifi_bonus_switch
    name: Bonus Room Switch Uptime
    baseoid: 1.3.6.1.2.1.1.3.0
    value_template: >
      {{ (now().timestamp() - (value | int / 100)) | timestamp_custom('%Y-%m-%dT%H:%M:%S.%f+00:00', False) }}
      
  - platform: snmp
    host: !secret unifi_server_switch
    name: Server Room Switch Temperature
    unit_of_measurement: "°C"
    baseoid: 1.3.6.1.4.1.4413.1.1.43.1.8.1.5.1.0
      
  - platform: snmp
    host: !secret unifi_server_switch
    name: Server Room Switch Uptime
    baseoid: 1.3.6.1.2.1.1.3.0
    value_template: >
      {{ (now().timestamp() - (value | int / 100)) | timestamp_custom('%Y-%m-%dT%H:%M:%S.%f+00:00', False) }}
      
  - platform: snmp
    host: !secret unifi_server_gateway
    name: Server Room Gateway Uptime
    baseoid: 1.3.6.1.2.1.1.3.0
    value_template: >
      {{ (now().timestamp() - (value | int / 100)) | timestamp_custom('%Y-%m-%dT%H:%M:%S.%f+00:00', False) }}
      
  - platform: snmp
    host: !secret unifi_garage_ac_lite
    name: Garage AC Lite Uptime
    baseoid: 1.3.6.1.2.1.1.3.0
    value_template: >
      {{ (now().timestamp() - (value | int / 100)) | timestamp_custom('%Y-%m-%dT%H:%M:%S.%f+00:00', False) }}
     
  - platform: snmp
    host: !secret unifi_closet_ac_lite
    name: Hall Closet AC Lite Uptime
    baseoid: 1.3.6.1.2.1.1.3.0
    value_template: >
      {{ (now().timestamp() - (value | int / 100)) | timestamp_custom('%Y-%m-%dT%H:%M:%S.%f+00:00', False) }}
     
  - platform: snmp
    host: !secret unifi_server_ac_lite
    name: Server Room AC Lite Uptime
    baseoid: 1.3.6.1.2.1.1.3.0
    value_template: >
      {{ (now().timestamp() - (value | int / 100)) | timestamp_custom('%Y-%m-%dT%H:%M:%S.%f+00:00', False) }}
     

  - platform: snmp
    host: !secret synology_host
    name: Synology Uptime
    baseoid: 1.3.6.1.2.1.25.1.1.0
    value_template: >
      {{ (now().timestamp() - (value | int / 100)) | timestamp_custom('%Y-%m-%dT%H:%M:%S.%f+00:00', False) }}

  # CORONAVIRUS SENSORS

  - platform: rest
    resource: "https://services1.arcgis.com/0MSEUqKaxRlEPj5g/arcgis/rest/services/ncov_cases/FeatureServer/1/query?f=json&where=(Confirmed%20%3E%200)%20AND%20(Country_Region%3D%27US%27)&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*&orderByFields=Confirmed%20desc%2CCountry_Region%20asc%2CProvince_State%20asc&outSR=102100&resultOffset=0&resultRecordCount=250&cacheHint=true"
    name: Corona Virus Rest
    value_template: >
      {%- set last_updated = value_json.features | map(attribute='attributes.Last_Update') | list | max / 1000 %}
      {{ last_updated | timestamp_custom('%Y-%m-%dT%H:%M:%S.%f+00:00', False) }}
    json_attributes:
      - features
  
  - platform: rest
    resource: !secret corona_virus_county_url
    name: Corona Virus County Rest
    value_template: >
      {%- set last_updated = value_json.features | map(attribute='attributes.Last_Update') | list | max / 1000 %}
      {{ last_updated | timestamp_custom('%Y-%m-%dT%H:%M:%S.%f+00:00', False) }}
    json_attributes:
      - features

  - platform: uptime
