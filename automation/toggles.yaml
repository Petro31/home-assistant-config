- alias: Turn On Livingroom lights with Harmony Activities
  id: turn_on_livingroom_lights_with_harmony_activities
  trigger:
  - platform: state
    entity_id:
    - switch.xbox_one
    - switch.ps4
    - switch.roku
    - switch.switch
    - switch.tv
    to: 'on'
  condition:
  - condition: state
    entity_id: sun.sun
    state: below_horizon
  action:
  - service: light.turn_on
    target:
      entity_id: light.living_room
    
- alias: Toggle Game Room Lights
  id: toggle_game_room_lights
  trigger:
  - platform: state
    entity_id: switch.game_room_switch
  variables:
    continue: >
      {{ trigger | default(none) is not none and trigger.to_state is defined and trigger.from_state is defined }}
    to_state: >
      {{ trigger.to_state.state | default('') if continue else '' }}
  condition:
  - condition: template
    value_template: "{{ continue and to_state in ['on','off'] }}"
  action:
  - service: switch.turn_{{ to_state }}
    target:
      entity_id:
      - switch.game_room_bookcase_outlet
      - switch.game_room_buffet_outlet


- alias: Toggle Basement Lights
  id: toggle_basement_lights
  trigger:
  - platform: state
    entity_id: switch.basement_stairs
  variables:
    continue: >
      {{ trigger | default(none) is not none and trigger.to_state is defined and trigger.from_state is defined }}
    to_state: >
      {{ trigger.to_state.state | default('') if continue else '' }}
  condition:
  - condition: template
    value_template: "{{ continue and to_state in ['on','off'] }}"
  action:
  - service: switch.turn_{{ to_state }}
    target:
      entity_id:
      - switch.basement_cans