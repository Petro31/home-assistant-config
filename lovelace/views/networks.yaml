# lovelace_gen

{%- set entities = entities %}

title: Networks
path: networks
icon: mdi:wan
cards:
{%- for i in range(0, entities | length, 3) %}
- type: horizontal-stack
  cards:
  {%- for j in range(3) %}
  {%- set current = entities[i+j] %}
  {%- if current is defined %}
  {%- set current = current.entity %}
  {%- set domain, object_id = current.split('.') %}
  - !include
    - '../templates/group_state_navigation.yaml'
    - entity: {{ current }}
      path: /lovelace/{{ object_id }}
      find:
      - state: home, on
        domains: device_tracker
        icon: mdi:lan-connect
      - state: not_home
        domains: device_tracker
        icon: mdi:lan-disconnect
        color: 'rgba(228, 94, 101)'
  {%- else %}
  - !include
    - '../templates/spacer_button.yaml'
    - empty: why
      aspect_ratio: 4/3
  {%- endif %}
  {%- endfor %}
{%- endfor %}